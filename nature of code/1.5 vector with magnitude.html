<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Vector Magnitude</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>

<body>

    <canvas id="canvas" width="1000" height="500"></canvas>
    <script>
        const canvas = document.getElementById("canvas");

        const width = canvas.width;
        const height = canvas.height;

        /** @type {CanvasRenderingContext2D} */
        const ctx = canvas.getContext('2d');

        let mouse = [];
        let origin = [width / 2, height / 2]
        let magnitude;

        document.addEventListener("mousemove", (e) => {
            mouse = [e.clientX, e.clientY]
            magnitude = Math.sqrt(Math.pow(mouse[0] - origin[0], 2) + Math.pow(mouse[1] - origin[1], 2));
        })


        window.requestAnimationFrame(draw);

        function draw() {
            ctx.clearRect(0, 0, width, height);
            console.log(magnitude)


            ctx.beginPath();
            ctx.moveTo(origin[0], origin[1]);
            ctx.lineTo(mouse[0], mouse[1]);
            ctx.closePath();
            ctx.stroke();

            ctx.fillRect(0, 0, magnitude, 10);

            window.requestAnimationFrame(draw);
        }
    </script>

</body>

</html>